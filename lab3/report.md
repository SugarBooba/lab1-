<!-- # Отчет по лабораторной работе №1 -->
#### «Национальный исследовательский университет ИТМО»
### Основы профессиональной деятельности
## Лабораторная работа 4
## Вариант 3101
### Хабнер Георгий, P3131
###  2023

## Задание
> По выданному преподавателем варианту восстановить текст заданного варианта программы, определить предназначение и составить описание программы, определить область представления и область допустимых значений исходных данных и результата, выполнить трассировку программы.

## Исходные данные

| Адрес | Код  | Мнемоника   | Комментарий                                                                   |
|-------|------|-------------|-------------------------------------------------------------------------------|
| 23D   | 0200 | CLA         | Очистка аккумулятора                                                          |
| 23E   | EE19 | ST (IP+25)  | Запись значения аккумулятора в A                                              |
| 23F   | AE15 | LD (IP+21)  | Запись значение B в аккумулятор                                               |
| 240   | 0740 | DEC         | Уменьшение значения в аккумуляторе на 1                                       |
| 241   | 0С00 | PUSH        | Записать значение аккумулятора в стек (-SP)                                   |
| 242   | D6D6 | CALL 0x6D6  | Вызов подпрограммы, начинающуюся в ячейке 0x6D6                               |
| 243   | 0800 | POP         | Запись значения из стека в аккумулятор                                        |
| 244   | 4E13 | ADD (IP+19) | Сложить A с аккумулятором и записать в аккумулятор                            |
| 245   | EE12 | ST (IP+18)  | Записать значение аккумулятора в A                                            |
| 246   | AE0F | LD (IP+15)  | Записать значение C в аккумулятор                                             |
| 247   | 0700 | INC         | Увеличение значения аккумулятора на 1                                         |
| 248   | 0С00 | PUSH        | Записать значение аккумулятора в стек (-SP)                                   |
| 249   | D6D6 | CALL 0x6D6  | Вызов подпрограммы, начинающуюся в ячейке 0x6D6                               |
| 24A   | 0800 | POP         | Запись значения из стека в аккумулятор                                        |
| 24B   | 6E0C | SUB (IP+12) | Отнять из значения аккумулятора A и записать в аккумулятор                    |
| 24С   | EE0B | ST (IP+11)  | Записать значение аккумулятора в A                                            |
| 24D   | AE09 | LD (IP+9)   | Записать значение D в аккумулятор                                             |
| 24E   | 0C00 | PUSH        | Записать значение аккумулятора в стек (-SP)                                   |
| 24F   | D6D6 | CALL 0x6D6  | Вызов подпрограммы, начинающуюся в ячейке 0x6D6                               |
| 250   | 0800 | POP         | Запись значения из стека в аккумулятор                                        |
| 251   | 0700 | INC         | Увеличение значения аккумулятора на 1                                         |
| 252   | 6E05 | SUB (IP+5)  | Отнять из значения аккумулятора A и записать в аккумулятор                    |
| 253   | EE04 | ST (IP+4)   | Записать значение аккумулятора в A                                            |
| 254   | 0100 | HLT         | Остановка программы                                                           |
| 255   | ZZZZ | B           | Входная переменная                                                            |
| 256   | YYYY | C           | Входная переменная                                                            |
| 257   | XXXX | D           | Входная переменная                                                            |
| 258   | 0071 | A           | Выходная переменная                                                           |

| Адрес | Код  | Мнемоника   | Комментарий                                                                   |
|-------|------|-------------|-------------------------------------------------------------------------------|
| 6D6   | AC01 | LD (SP+1)   | Загрузка второго элемента стека в аккумулятор                                 |
| 6D7   | F001 | BEQ         | если значение в аккумулятое = 0, перейти в ячейку 0x6D9                       |
| 6D8   | F308 | BPL         | если флаг значение в аккумулятое положительное, перейти в ячейку 6E1          |
| 6D9   | 7E0A | CMP         | выставить флаги по разности значения ячейки E и аккумулятора                  |
| 6DA   | F806 | BLT         | если значение в аккумулятое < E, перейти в ячейку 6E1                         |
| 6DB   | F005 | BEQ         | если значение в аккумулятое = 0, перейти в ячейку 6E1                         |
| 6DC   | 0500 | ASL         | Умножить AC на 2                                                              |
| 6DD   | 0500 | ASL         | Умножить AC на 2                                                              |
| 6DE   | 6C01 | SUB (SP+1)  | Отнять из значения аккумулятора второй элемент стека и записать в аккумулятор |
| 6DF   | 6E05 | SUB (IP+5)  | Отнять из значения аккумулятора F и записать в аккумулятор                    |
| 6E0   | CE01 | JUMP (IP+1) | Переход в ячейку 0x6E2                                                        |
| 6E1   | AE02 | LD (IP+2)   | Записать значение E в аккумулятор                                             |
| 6E2   | EC01 | ST (SP+1)   | Запись во второй элемент стека значение аккумулятора                          |
| 6E3   | 0A00 | RET         | Возврат с места вызова                                                        |
| 6E4   | FE37 | E           | Значение                                                                      |
| 6E5   | 00AB | F           | Значение                                                                      |


##Функция вычисляемая программой
Подсчет функции от трех переменных по формуле:

A = func(D)+1-func(C+1)+func(B-1)

    def func(arg):
        e = -457
        f = 171
        ac = arg
    
        if ac <= 0: 
            if ac > e:
                ac *= 3
                ac -= f
            else:
                ac = e
        else:
            ac = e
        return ac

func -> (3arg-171) -457<arg<=0
func -> (-457) arg<=-457, arg>0

##ОП и ОДЗ программы

E, F (0x694-0x695)- константы функии, знаковые числа
E = FE37 = -458
F = 00AB = 171
 - При значении аргумента функции в промежутке [-2^15; -457] и [1; 2^15 - 1], функция вернет значение -457. При использовании любого значения из заданного промежутка в функции не возникнет переполнения.
 - При оставшихся значениях аргумента функция вернет выражение 3x - 171. На промежутке [-456; 0] эта функция монотонно возрастающая, поэтому рассмотрим минимальное и максимальное значение: 
>f_min=f(-456)=-1539
f_max=f(0)=-171

что означает, что на всем промежутке значений аргумента, результат функции будет находиться на отрезке [-1539; -171]. 

Так как основная программа вычисляет следующее выражение: 
A = f(D)+1-f(C+1)+f(B-1)
То максимально мы можем получить: -171+1-(-1539)+(-171) = 1198 < 2^15-1
А минимально: -1539+1-(-171)+(-1539) = -2906 > -2^15

> D (0x257) - входное знаковое число (от -2^15 до 2^15-1)
> С (0x256) - входное знаковое число (от -2^15 до 2^15-2)
> B (0x255) - входное знаковое число (от -2^15+1 до 2^15-1) 
> A (0x258) - выходные данные, знакоквое число (от -2906 до 1198)
