<!-- # Отчет по лабораторной работе №1 -->
#### «Национальный исследовательский университет ИТМО»
### Основы профессиональной деятельности
## Лабораторная работа 5
## Вариант 3101
### Хабнер Георгий, P3131
###  2023

## Задание
> По выданному преподавателем варианту разработать программу асинхронного обмена данными с внешним устройством. При помощи программы осуществить ввод или вывод информации, используя в качестве подтверждения данных сигнал (кнопку) готовности ВУ.
    1. Программа осуществляет асинхронный ввод данных с ВУ-2
    2. Программа начинается с адреса 0EE16. Размещаемая строка находится по адресу 61216.
    3. Строка должна быть представлена в кодировке ISO-8859-5.
    4. Формат представления строки в памяти: АДР1: СИМВ1 СИМВ2 АДР2: СИМВ3 СИМВ4 ... СТОП_СИМВ.
    5. Ввод или вывод строки должен быть завершен по символу c кодом 0D (CR). Стоп символ является обычным символом строки и подчиняется тем же правилам расположения в памяти что и другие символы строки.

## Код программы

| Адрес | Код команды | Мнемоника  | Описание                                                |
|-------|-------------|------------|---------------------------------------------------------|
| 0EE   | 0612        | ARR        | Ссылка начала размещаемой строки                        |
| 0EF   | 0000        | ADR        | Текущая ссылка размещения                               |
| 0F0   | 000D        | FINISH     | Стоп-слово                                              |
| 0F1   | 0200        | CLA        | 0 -> AC                                                 |
| 0F2   | AEFB        | LD ARR     | AC = ARR                                                |
| 0F3   | EEFB        | ST ADR     | AC -> ADR                                               |
| 0F4   | 1205        | IN 5       | Чтение регистра ВУ-2                                    |
| 0F5   | 2F40        | AND #40    | AC & #40 -> AC                                          |
| 0F6   | F0FD        | BEQ IP-3   | возврат на чтение SR ВУ-2, если SR не выставлен         |
| 0F7   | 1204        | IN 4       | Чтение DR ВУ-2                                          |
| 0F8   | 7EF7        | CMP FINISH | Выставление флагов по AC - FINISH                       |
| 0F9   | F00B        | BEQ IP+11  | завершение программы, если введенное слово - стоп-слово |
| 0FA   | 0680        | SWAB       | Обмен мл. и ст. байт                                    |
| 0FB   | E8F3        | ST (ADR)   | AC -> (ADR)                                             |
| 0FC   | 1205        | IN 5       | Чтение регистра ВУ-2                                    |
| 0FD   | 2F40        | AND #40    | AC & #40 -> AC                                          |
| 0FE   | F0FD        | BEQ IP-3   | возврат на чтение SR ВУ-2, если SR не выставлен         |
| 0FF   | 1204        | IN 4       | Чтение DR ВУ-2                                          |
| 100   | 7EEF        | CMP FINISH | Выставление флагов по AC - FINISH                       |
| 101   | F003        | BEQ IP+3   | завершение программы, если введенное слово - стоп-слово |
| 102   | 38EC        | OR (ADR)   | AC = AC \| (ADR)                                        |
| 103   | EAEB        | ST (ADR)+  | AC -> (ADR)+                                            |
| 104   | CEEF        | JUMP 0x0F4 | Переход к началу считывания                             |
| 105   | 0100        | HLT        | Остановка                                               |


##Функция вычисляемая программой
Вычисление максимального значения массива, делящегося без остатка на 4.

Проходимся по массиву в обратном порядке, начиная с ячейки D.
За счет побитобых сдвигов узнаем оканчивается ли число на 00 (таким образом получаем числа, делящиеся на 4).
Если да, сравниваем его со значением, лежащим в ячейке E и записываем туда максимальное из них. 
(Т.е. узнаем флаги разности рассматриваемого числа и значения ячейки E и если оно больше или равно записываем в E.)

##Назначение прогрммы

•	Программа осуществляет асинхронный ввод данных с ВУ–2

##ОДЗ программы

•	Вводимый символ: [0;255]
•	ARR ϵ [0x612;0x7FE]

##ОП программы
•	ARR (0x0EE) – ссылка на адрес размещаемой строки
•   ADR (0x0EF) – текущая ссылка размещения
•	FINISH (0x0F0) – символьный код в кодировке ISO-8859-5

##Трассировка

Входные данные:

- Cтрока в кодировке ISO-8859-5:
   

<!-- | Адр | Знчн | IP  | CR   | AR  | DR   | SP  | BR   | AC   | PS  | NZVC | Адр | Знчн |
|-----|------|-----|------|-----|------|-----|------|------|-----|------|-----|------| -->
